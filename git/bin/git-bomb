#!/usr/bin/env sh
# # # # # # # # # # # # # # # # # #
# CAUTION: BEWARE OF THIS SCRIPT! #
# # # # # # # # # # # # # # # # # #
#
# Delete local branches that were already merged into master
# To see the full version of this script check bin/git-nuke

# Prune origin
echo "[git]: pruning..."
git fetch --prune

# Delete merged branches
echo "[git]: deleting merged branches..."
git branch --merged | grep -v master | grep -v '^\*' | xargs git branch -d

if which cowsay &> /dev/null; then
  (echo "THE EAGLE HAS LANDED.\n\nI REPEAT, THE EAGLE HAS LANDED") \
  | cowsay
else
 echo "\n\nTHE EAGLE HAS LANDED.\nI REPEAT, THE EAGLE HAS LANDED"
fi
